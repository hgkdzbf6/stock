#!/bin/bash

################################################################################
# 量化交易平台 - 重启脚本
################################################################################

# 颜色定义
RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
BLUE='\033[0;34m'
NC='\033[0m' # No Color

# 函数：打印带颜色的消息
print_info() {
    echo -e "${BLUE}ℹ️  $1${NC}"
}

print_success() {
    echo -e "${GREEN}✅ $1${NC}"
}

print_header() {
    echo ""
    echo "=================================="
    echo "  $1"
    echo "=================================="
    echo ""
}

################################################################################
# 主流程
################################################################################

print_header "量化交易平台 - 重启服务"

# 1. 停止服务
print_info "正在停止所有服务..."
./stop_all.sh

# 等待服务完全停止
print_info "等待服务完全停止..."
sleep 3

# 2. 启动服务
print_info "正在启动所有服务..."
./start_all.sh

# 3. 完成
print_header "✅ 重启完成！"

print_info "所有服务已重新启动"
echo ""